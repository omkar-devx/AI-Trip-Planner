import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-pro",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Provide a complete JSON file, without any comments or instructions, containing placeholder data and Generate Travel Plan for Location: Las Vegas, for 4-5 Days for Family with a Luxury budget Give me a Hotels options list atleast 5 with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with full day plan with timestamp, placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating Time travel each of the location for 3 days with each day plan with best time to visit in complete JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "location": "Las Vegas, NV",\n  "tripLength": "4 Days",\n  "budget": "Luxury",\n  "travelers": "Family",\n  "hotels": [\n    {\n      "HotelName": "The Bellagio",\n      "HotelAddress": "3600 S Las Vegas Blvd, Las Vegas, NV 89109, USA",\n      "Price": 37500,\n      "hotelImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/51/Bellagio_Hotel_Las_Vegas.jpg/1280px-Bellagio_Hotel_Las_Vegas.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1146,\n        "longitude": -115.1740\n      },\n      "rating": 4.8,\n      "description": "Luxury hotel with stunning fountains and fine dining."\n    },\n    {\n      "HotelName": "Wynn Las Vegas",\n      "HotelAddress": "3131 Las Vegas Blvd S, Las Vegas, NV 89109, USA",\n      "Price": 45000,\n      "hotelImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Wynn_Las_Vegas_Exterior_View.jpg/1280px-Wynn_Las_Vegas_Exterior_View.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1215,\n        "longitude": -115.1707\n      },\n      "rating": 4.7,\n      "description": "Elegant hotel with high-end amenities and a golf course."\n    }\n  ],\n  "itinerary": [\n    {\n      "day": 1,\n      "plan": [\n        {\n          "timestamp": "9:00 AM",\n          "placeName": "High Roller Observation Wheel",\n          "placeDetails": "Enjoy panoramic views of the Las Vegas Strip.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/High_Roller_Observation_Wheel_at_night.jpg/1280px-High_Roller_Observation_Wheel_at_night.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1004,\n            "longitude": -115.1728\n          },\n          "ticketPricing": 2500,\n          "rating": 4.5,\n          "timeTravel": 2\n        },\n        {\n          "timestamp": "11:30 AM",\n          "placeName": "Bellagio Conservatory & Botanical Garden",\n          "placeDetails": "Explore the stunning seasonal floral displays.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/Bellagio_Conservatory_%26_Botanical_Gardens.jpg/1280px-Bellagio_Conservatory_%26_Botanical_Gardens.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1146,\n            "longitude": -115.1740\n          },\n          "ticketPricing": 0,\n          "rating": 4.6,\n          "timeTravel": 1.5\n        },\n        {\n          "timestamp": "2:00 PM",\n          "placeName": "The Eiffel Tower at Paris Las Vegas",\n          "placeDetails": "Enjoy lunch with a view from the Eiffel Tower restaurant.",\n          "placeImageUrl": "https://example.com/eiffeltowerlv.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1142,\n            "longitude": -115.1748\n          },\n          "ticketPricing": 2500,\n          "rating": 4.2,\n          "timeTravel": 2\n        }\n      ]\n    },\n    {\n      "day": 2,\n      "plan": [\n        {\n          "timestamp": "9:00 AM",\n          "placeName": "Grand Canyon West Rim (by Helicopter Tour)",\n          "placeDetails": "Take a breathtaking helicopter tour to the Grand Canyon\'s West Rim.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/59/Grand_Canyon_West_Rim_from_Guano_Point.jpg/1280px-Grand_Canyon_West_Rim_from_Guano_Point.jpg",\n          "geoCoordinates": {\n            "latitude": 36.00,\n            "longitude": -114.30\n          },\n          "ticketPricing": 15000,\n          "rating": 4.8,\n          "timeTravel": 5\n        },\n        {\n          "timestamp": "5:00 PM",\n          "placeName": "Hoover Dam",\n          "placeDetails": "Visit the impressive Hoover Dam",\n          "placeImageUrl": "https://example.com/hooverdam.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0167,\n            "longitude": -114.7456\n          },\n          "ticketPricing": 1000,\n          "rating": 4.5,\n          "timeTravel": 1.5\n        }\n      ]\n    },\n    {\n      "day": 3,\n      "plan": [\n        {\n          "timestamp": "10:00 AM",\n          "placeName": "Seven Magic Mountains",\n          "placeDetails": "Visit this vibrant public art installation.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Seven_Magic_Mountains_%28cropped%29.jpg/1280px-Seven_Magic_Mountains_%28cropped%29.jpg",\n          "geoCoordinates": {\n            "latitude": 36.0678,\n            "longitude": -114.9619\n          },\n          "ticketPricing": 0,\n          "rating": 4.4,\n          "timeTravel": 1\n        },\n        {\n          "timestamp": "1:00 PM",\n          "placeName": "Explore the Las Vegas Strip",\n          "placeDetails": "Shopping, dining, and exploring various casinos.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/Las_Vegas_Strip_at_night.jpg/1280px-Las_Vegas_Strip_at_night.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1150,\n            "longitude": -115.1725\n          },\n          "ticketPricing": 0,\n          "rating": 4.7,\n          "timeTravel": 4\n        },\n        {\n          "timestamp": "6:00 PM",\n          "placeName": "Cirque du Soleil Show (e.g., O)",\n          "placeDetails": "Attend a world-class Cirque du Soleil performance.",\n          "placeImageUrl": "https://example.com/cirquedusoleil.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1146,\n            "longitude": -115.1740\n          },\n          "ticketPricing": 8000,\n          "rating": 4.7,\n          "timeTravel": 0.5\n        }\n      ]\n    },\n    {\n      "day": 4,\n      "plan": [\n        {\n          "timestamp": "10:00 AM",\n          "placeName": "Red Rock Canyon National Conservation Area",\n          "placeDetails": "Hike or bike through the scenic desert landscape.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/0/06/Red_Rock_Canyon_Nevada.jpg/1280px-Red_Rock_Canyon_Nevada.jpg",\n          "geoCoordinates": {\n            "latitude": 36.2087,\n            "longitude": -115.7875\n          },\n          "ticketPricing": 750,\n          "rating": 4.9,\n          "timeTravel": 3\n        },\n        {\n          "timestamp": "3:00 PM",\n          "placeName": "High-End Shopping at Crystals",\n          "placeDetails": "Luxury shopping at the Crystals at CityCenter.",\n          "placeImageUrl": "https://example.com/crystals.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1139,\n            "longitude": -115.1717\n          },\n          "ticketPricing": 0,\n          "rating": 4.6,\n          "timeTravel": 2\n        },\n        {\n          "timestamp": "7:00 PM",\n          "placeName": "Fine Dining Experience",\n          "placeDetails": "Enjoy a luxurious dinner at a top-rated restaurant.",\n          "placeImageUrl": "https://example.com/finedining.jpg",\n          "geoCoordinates": {\n            "latitude": 36.1150,\n            "longitude": -115.1725\n          },\n          "ticketPricing": 12000,\n          "rating": 4.8,\n          "timeTravel": 0.5\n        }\n      ]\n    }\n  ]\n}\n```\n\nRemember to replace the placeholder image URLs and  prices with accurate information.  The prices are still placeholders and need to be updated with current rates.\n',
        },
      ],
    },
  ],
});
