import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotel_options": [\n    {\n      "name": "The D Las Vegas",\n      "address": "301 Fremont Street, Las Vegas, NV 89101",\n      "price": "$50-$100 per night",\n      "image_url": "https://www.theD.com/images/hero/the-d-hero.jpg",\n      "geo_coordinates": [36.1699, -115.1424],\n      "rating": 4.0,\n      "description": "A budget-friendly hotel located in the heart of Fremont Street Experience, offering rooms with modern amenities and a casino."\n    },\n    {\n      "name": "Circus Circus Hotel & Casino",\n      "address": "2880 Las Vegas Blvd S, Las Vegas, NV 89109",\n      "price": "$40-$80 per night",\n      "image_url": "https://www.circuscircus.com/content/dam/caesars/circus-circus/circus-circus-hotel-exterior-day-1.jpg",\n      "geo_coordinates": [36.1169, -115.1725],\n      "rating": 3.5,\n      "description": "A classic Las Vegas hotel known for its circus-themed attractions, affordable rooms, and a lively casino."\n    },\n    {\n      "name": "The Golden Nugget",\n      "address": "129 E Fremont St, Las Vegas, NV 89101",\n      "price": "$60-$120 per night",\n      "image_url": "https://www.goldennugget.com/content/dam/gnl/assets/general/GN-Exterior-day-2016-615x450.jpg",\n      "geo_coordinates": [36.1694, -115.1417],\n      "rating": 4.5,\n      "description": "A historic hotel on Fremont Street, offering luxurious rooms, a renowned casino, and a famous shark tank."\n    }\n  ],\n  "itinerary": [\n    {\n      "day": 1,\n      "theme": "Exploring Downtown Las Vegas",\n      "activities": [\n        {\n          "time": "9:00 AM",\n          "place": "Fremont Street Experience",\n          "details": "Start your day by walking the iconic Fremont Street Experience, enjoying the vibrant atmosphere, live music, and the dazzling canopy of lights.",\n          "image_url": "https://www.vegasexperience.com/images/attractions/fremont-street-experience.jpg",\n          "geo_coordinates": [36.1699, -115.1424],\n          "ticket_pricing": "Free",\n          "rating": 4.5\n        },\n        {\n          "time": "11:00 AM",\n          "place": "The Mob Museum",\n          "details": "Learn about the fascinating history of organized crime in Las Vegas, including the infamous mob bosses and their connections to the city.",\n          "image_url": "https://www.themobmuseum.org/sites/default/files/styles/gallery_large/public/images/mob-museum-exterior-day-700.jpg",\n          "geo_coordinates": [36.1691, -115.1397],\n          "ticket_pricing": "$25-$30",\n          "rating": 4.0\n        },\n        {\n          "time": "1:00 PM",\n          "place": "Heart Attack Grill",\n          "details": "Grab a bite to eat at the quirky Heart Attack Grill, known for its indulgent and calorie-laden burgers.",\n          "image_url": "https://www.heartattackgrill.com/images/home/heartattackgrill.jpg",\n          "geo_coordinates": [36.1712, -115.1406],\n          "ticket_pricing": " Varies",\n          "rating": 3.5\n        },\n        {\n          "time": "3:00 PM",\n          "place": "SlotZilla Zipline",\n          "details": "Experience the thrill of ziplining over Fremont Street, offering incredible views of the city below.",\n          "image_url": "https://www.vegasexperience.com/images/attractions/slotzilla-zipline.jpg",\n          "geo_coordinates": [36.1699, -115.1424],\n          "ticket_pricing": "$20-$30",\n          "rating": 4.0\n        },\n        {\n          "time": "6:00 PM",\n          "place": "Binion\'s Gambling Hall",\n          "details": "End your day with some gambling and enjoy the retro atmosphere of Binion\'s, known for its classic casino games.",\n          "image_url": "https://www.binions.com/images/main-banner-home.jpg",\n          "geo_coordinates": [36.1699, -115.1412],\n          "ticket_pricing": "Varies",\n          "rating": 4.0\n        }\n      ]\n    },\n    {\n      "day": 2,\n      "theme": "Exploring the Strip",\n      "activities": [\n        {\n          "time": "10:00 AM",\n          "place": "Bellagio Fountains",\n          "details": "Start your day by witnessing the spectacular Bellagio Fountains show, featuring synchronized water, music, and lights.",\n          "image_url": "https://www.bellagio.com/content/dam/mgmresorts/bellagio/images/homepage/featured/FountainShow-600x400.jpg",\n          "geo_coordinates": [36.1129, -115.1734],\n          "ticket_pricing": "Free",\n          "rating": 5.0\n        },\n        {\n          "time": "11:00 AM",\n          "place": "The Venetian and The Palazzo",\n          "details": "Explore the luxurious Venetian and Palazzo resorts, featuring replica canals, gondola rides, and upscale shopping.",\n          "image_url": "https://www.venetian.com/content/dam/mgmresorts/venetian/images/homepage/featured/Venetian_Pool_Daybed_01-1600x1067.jpg",\n          "geo_coordinates": [36.1158, -115.1723],\n          "ticket_pricing": "Free",\n          "rating": 4.5\n        },\n        {\n          "time": "1:00 PM",\n          "place": "The LINQ Promenade",\n          "details": "Grab some lunch and enjoy the lively atmosphere of the LINQ Promenade, featuring unique shops, restaurants, and attractions.",\n          "image_url": "https://www.caesars.com/content/dam/caesars/the-linq/linq-promenade-2-800x450.jpg",\n          "geo_coordinates": [36.1162, -115.1721],\n          "ticket_pricing": "Free",\n          "rating": 4.0\n        },\n        {\n          "time": "3:00 PM",\n          "place": "High Roller Observation Wheel",\n          "details": "Enjoy panoramic views of Las Vegas from the world\'s tallest observation wheel.",\n          "image_url": "https://www.caesars.com/content/dam/caesars/the-linq/high-roller-exterior-night-800x450.jpg",\n          "geo_coordinates": [36.1166, -115.1725],\n          "ticket_pricing": "$30-$40",\n          "rating": 4.5\n        },\n        {\n          "time": "6:00 PM",\n          "place": "The Cosmopolitan of Las Vegas",\n          "details": "Enjoy a romantic dinner with stunning views at a restaurant in The Cosmopolitan, known for its stylish atmosphere and delicious food.",\n          "image_url": "https://www.cosmopolitanlasvegas.com/content/dam/mgmresorts/cosmopolitan/images/homepage/featured/Cosmopolitan_Exterior_Night_01-1600x1067.jpg",\n          "geo_coordinates": [36.1172, -115.1728],\n          "ticket_pricing": "Varies",\n          "rating": 4.5\n        }\n      ]\n    },\n    {\n      "day": 3,\n      "theme": "Off the Strip",\n      "activities": [\n        {\n          "time": "9:00 AM",\n          "place": "Red Rock Canyon National Conservation Area",\n          "details": "Escape the hustle and bustle of the city and enjoy the scenic beauty of Red Rock Canyon, featuring stunning rock formations and hiking trails.",\n          "image_url": "https://www.nps.gov/redr/planyourvisit/images/Red%20Rock%20Canyon%20-%20Rock%20Climbing%20-%20010.jpg",\n          "geo_coordinates": [36.2106, -115.3239],\n          "ticket_pricing": "$15 per vehicle",\n          "rating": 4.5\n        },\n        {\n          "time": "12:00 PM",\n          "place": "Seven Magic Mountains",\n          "details": "Visit the iconic Seven Magic Mountains art installation, featuring colorful stacked boulders in the desert.",\n          "image_url": "https://www.visitlasvegas.com/media/2344/seven-magic-mountains-1-700x467.jpg",\n          "geo_coordinates": [36.0995, -115.1063],\n          "ticket_pricing": "Free",\n          "rating": 4.0\n        },\n        {\n          "time": "2:00 PM",\n          "place": "Neon Museum",\n          "details": "Learn about the history of Las Vegas\'s iconic neon signs at the Neon Museum, featuring a collection of vintage signs.",\n          "image_url": "https://www.neonmuseum.org/wp-content/uploads/2018/08/neon-museum-boneyard-at-night.jpg",\n          "geo_coordinates": [36.1753, -115.1455],\n          "ticket_pricing": "$20-$25",\n          "rating": 4.5\n        },\n        {\n          "time": "5:00 PM",\n          "place": "Las Vegas Strip",\n          "details": "Enjoy a final walk along the Las Vegas Strip, taking in the vibrant atmosphere and the dazzling lights of the iconic casinos.",\n          "image_url": "https://www.visitlasvegas.com/media/2374/las-vegas-strip-night-700x467.jpg",\n          "geo_coordinates": [36.1180, -115.1725],\n          "ticket_pricing": "Free",\n          "rating": 5.0\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation of the JSON Format:**\n\n* **hotel_options:** An array containing information about each hotel option. Each hotel object includes:\n    * **name:** Hotel name\n    * **address:** Hotel address\n    * **price:** Estimated price range per night\n    * **image_url:** URL of the hotel image\n    * **geo_coordinates:** Latitude and longitude coordinates of the hotel\n    * **rating:** Hotel rating out of 5 stars\n    * **description:** Brief description of the hotel\n* **itinerary:** An array containing the daily itinerary for the 3-day trip. Each day object includes:\n    * **day:** The day number (1, 2, or 3)\n    * **theme:** A theme for the day\'s activities\n    * **activities:** An array containing each activity for the day. Each activity object includes:\n        * **time:** The estimated time for the activity\n        * **place:** Name of the place to visit\n        * **details:** Description of the place and activity\n        * **image_url:** URL of the place image\n        * **geo_coordinates:** Latitude and longitude coordinates of the place\n        * **ticket_pricing:** Estimated ticket prices for the activity\n        * **rating:** Rating of the place out of 5 stars\n\n**Notes:**\n\n* This is a suggested itinerary and can be customized based on your preferences.\n* Prices are estimates and may vary depending on the time of year and availability.\n* This itinerary focuses on affordable options and includes free attractions to keep costs down.\n* It\'s recommended to book your hotel and some attractions in advance, especially if traveling during peak season. \n',
        },
      ],
    },
  ],
});
